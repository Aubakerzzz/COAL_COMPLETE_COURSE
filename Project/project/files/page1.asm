.MODEL SMALL
.STACK 100H

.DATA
	
	
	_COUNTER DB 0
	_XSTART DW 0
	_YSTART DW 0
	_XEND DW 40
	_YEND DW 15
	TEMP1 DB 0
	
	row_no DW 0
	COL_NO DW 0
	
	BRICKBALL DB "BRICK BALL GAME",'$'
	INPUTNAME DB  "ENTER YOUR NAME$"
	
	BALLARRAY   db  11,  11,  11, 11, 11, 11, 11,  11
				db  11,  11,   1,  1,  1, 11, 11,  11
				db  11,   1,   1,  1,  1,  1, 11,  11
				db  11,   1,   1,  1,  1,  1, 11,  11
				db  11,   1,   1,  1,  1,  1, 11,  11
				db  11,  11,   1,  1,  1, 11, 11,  11
				db  11,  11,  11, 11, 11, 11, 11,  11
				db  11,  11,  11, 11, 11, 11, 11,  11

	;heart
DIM_X_BALL dw 8
DIM_Y_BALL dw 8

.CODE


	MOV AX,@DATA
	MOV DS,AX
	MOV AX,0

JMP NEW
	
	BACKGROUND_COLOR PROC

	MOV AH,06H   ;BACKGROUND COLOR
	MOV AL,0
	MOV CX,0
	MOV DX,6200
	MOV BH,00 ; color 
	INT 10H
	RET
	
	BACKGROUND_COLOR ENDP
	
	MakeBoxes Macro XStart, YStart, XEnd, YEnd, Colour
	
	mov cx, XStart
	.while cx < XEnd
		mov dx, YStart
		.while dx < YEnd
			mov ah, 0CH
			mov al, Colour
			int 10h
			inc dx
		.endw
		inc cx
	.endw
endm

Output macro XStart1, YStart1, XEnd1, YEnd1
	mov cx, XStart1
	.while cx < XEnd1
		mov dx < YStart1
		.while dx < YEnd1
			mov ah,0ch
			mov al, 6ch
			int 10h
			inc dx
		.endw
		inc cx
	.endw
endm

;Macros
drawPixel MACRO row, col, color

	MOV AH, 0Ch
	MOV AL, Color
	MOV CX, col
	MOV DX, row			
	INT 10H
	
endm
   
drawObject MACRO ycoord, xcoord, leny, lenx, array
	push ax
	mov ax, ycoord 
	mov row_no, ax
	pop ax
	mov cx, leny 
	mov si, 0
	.REPEAT
		push cx
		mov cx, lenx
		push ax
		mov ax, xcoord
		mov col_no, ax
		pop ax
		mov bx, 0
		.REPEAT
			push cx
			cmp array[si+ bx],0
			drawPixel row_no, col_no, array[si+ bx]
			inc col_no
			inc bx
			pop cx
			dec cx
		.UNTIL (cx==0)
		add si, lenx
		inc row_no
		pop cx
		dec cx
	.UNTIL (cx==0)
endm


;Wrapper Macro for drawing heart
DRAWBALL MACRO ycoord,xcoord
	DrawObject ycoord,xcoord,DIM_X_BALL,DIM_Y_BALL,BALLARRAY
endm





NEW::

	mov ah, 0h ; Seting Video mode 
	mov al, 13h ; 640 x 480- x 16 VGA
	int 10h
	CALL BACKGROUND_COLOR
	BACK MACRO _COUNTER,_YSTART,_YEND,_XSTART,_XEND
		
		.WHILE ( _COUNTER < 7 )
			MAKEBOXES _XSTART,_YSTART,_XEND,_YEND,8
			MOV AX,_XEND
			MOV _XSTART,AX
			ADD _XSTART,7
			MOV AX, 0
			MOV AX, _XSTART
			MOV _XEND, AX
			ADD _XEND,40
			INC _COUNTER
		.ENDW
	ENDM
JMP START
	UPDATE PROC
		MOV _COUNTER, 0
		ADD _YSTART, 22
		ADD _YEND, 22
		MOV _XSTART, 0
		MOV _XEND, 40
		RET
	UPDATE ENDP
		
START::
	.WHILE( TEMP1 < 9 )
		.IF (TEMP1 == 8)
			ADD _YEND, 8
			ADD _YSTART,3
			BACK _COUNTER, _YSTART, _YEND, _XSTART, _XEND
		.ELSE
			BACK _COUNTER, _YSTART, _YEND, _XSTART, _XEND
			CALL UPDATE
		.ENDIF
			INC TEMP1			
	.ENDW
	
	


	MAKEBOXES 110,120,235,150,11
	MAKEBOXES 32, 18,255,70,11
	
	;B
	MAKEBOXES 37, 20,40,62,1
	
	MAKEBOXES 40, 20,45,23,2
	MAKEBOXES 45, 23,50,26,3
	MAKEBOXES 50, 26,55,29,4
	
	MAKEBOXES 53, 29,58,32,5
	
	MAKEBOXES 50, 32,55,35,6
	MAKEBOXES 45, 35,50,38,9
	MAKEBOXES 40, 38,45,41,10
	
	
	MAKEBOXES 40, 41,45,44,0
	MAKEBOXES 45, 44,50,47,12
	MAKEBOXES 50, 47,55,50,13
	MAKEBOXES 53, 50,58,53,14
	
	
	MAKEBOXES 50, 53,55,56,15
	MAKEBOXES 45, 56,50,59,1
	MAKEBOXES 40, 59,45,62,2
	
	;R
	
	MAKEBOXES 62, 35,65,62,3
	MAKEBOXES 65, 32,69,35,4
	MAKEBOXES 69, 29,73,32,5
	MAKEBOXES 73, 26,79,29,6
	MAKEBOXES 79, 29,83,32,9
	MAKEBOXES 83, 32,87,35,10
	
	MAKEBOXES 65, 42,69,45,6
	MAKEBOXES 69, 45,73,48,12
	MAKEBOXES 73, 48,78,51,13
	
	MAKEBOXES 77, 45,82,48,14
	MAKEBOXES 82, 42,87,45,15
	
	MAKEBOXES 83, 36,87,41,1
	
	MAKEBOXES 65,52,70,55,2
	MAKEBOXES 70,55,75,58,3
	MAKEBOXES 75,58,80,62,4
	
	;I
	MAKEBOXES 98, 27,102,62,5
	
	MAKEBOXES 90, 27,110,29,7
	
	MAKEBOXES 90, 60,110,62,9
	
	;C
	
	MAKEBOXES 114, 27,116,62,10
	MAKEBOXES 115, 27,130,30,8
	MAKEBOXES 115, 59,130,62,12
	
	;K
	MAKEBOXES 134,27,136,62,13
	
	MAKEBOXES 136,42,139,45,14
	MAKEBOXES 139,39,142,42,15
	MAKEBOXES 142,36,145,39,1
	MAKEBOXES 145,33,148,36,2
	MAKEBOXES 148,30,151,33,3
	
	MAKEBOXES 139,45,142,48,4
	MAKEBOXES 142,48,145,51,5
	MAKEBOXES 145,51,148,54,6
	MAKEBOXES 148,54,151,57,9
	
	;B
	
	MAKEBOXES 158, 20,161,62,10
	
	MAKEBOXES 161, 20,166,23,0
	MAKEBOXES 166, 23,171,26,12
	MAKEBOXES 171, 26,176,29,13
	
	MAKEBOXES 174, 29,179,32,14
	
	MAKEBOXES 171, 32,176,35,15
	MAKEBOXES 166, 35,171,38,1
	MAKEBOXES 161, 38,166,41,2
	
	
	MAKEBOXES 161, 41,166,44,3
	MAKEBOXES 166, 44,171,47,4
	MAKEBOXES 171, 47,176,50,5
	
	MAKEBOXES 174, 50,179,53,6
	MAKEBOXES 171, 53,176,56,9
	MAKEBOXES 166, 56,171,59,10
	MAKEBOXES 161, 59,166,62,7
	;A
	MAKEBOXES 184,29,186,62,12
	MAKEBOXES 186,29,198,32,13
	MAKEBOXES 198,29,200,62,14
	MAKEBOXES 186,40,198,43,15
	
	;L
	
	MAKEBOXES 207,22,209,62,1
	MAKEBOXES 208,58,228,62,2
	
	;L
	
	MAKEBOXES 232,22,234,62,3
	MAKEBOXES 233,58,250,62,4
	

		MOV AH ,02H
		MOV BX, 0
		MOV DH ,16; MOVEMENT UP AND DOWN OF STRING PRINTING
		MOV DL ,14; LEFT AND WRITE PRINTING 
		INT 10H
		LEA DX,INPUTNAME
		MOV AH,9H
		INT 21H
		;cartoon
		MAKEBOXES 80,122,100,127,6
		MAKEBOXES 78,126,102,131,6
		MAKEBOXES 75,131,105,141,6
		MAKEBOXES 78,141,102,146,6
		MAKEBOXES 75,146,105,151,6
		MAKEBOXES 73,151,107,156,6
		MAKEBOXES 71,156,109,161,6
		MAKEBOXES 68,161,112,164,6
		MAKEBOXES 100,164,108,168,6
		MAKEBOXES 72,164,80,168,6
		MAKEBOXES 82,164,98,172,6
		MAKEBOXES 77,172,103,177,6
		MAKEBOXES 73,177,88,182,6
		MAKEBOXES 93,177,107,182,6
		MAKEBOXES 70,182,84,188,6
		MAKEBOXES 97,182,110,188,6
		MAKEBOXES 80,130,84,134,0
		MAKEBOXES 96,130,100,134,0
		MAKEBOXES 85,140,95,143,0
		MAKEBOXES 82,160,86,163,0
		MAKEBOXES 94,160,98,163,0
		MAKEBOXES 86,163,94,166,0
		;bomb
		MAKEBOXES 104,56,110,59,15
		MAKEBOXES 101,59,104,62,15
		MAKEBOXES 98,62,102,67,15	
		MAKEBOXES 95,65,104,68,15
		MAKEBOXES 93,67,106,73,15
		MAKEBOXES 90,70,109,79,15
		MAKEBOXES 90,77,109,83,15
		MAKEBOXES 88,73,111,80,15
		MAKEBOXES 93,82,106,86,15
		MAKEBOXES 95,85,104,89,15

		
	

EXIT::
	MOV AH, 04CH
	INT 21H
	END
	

