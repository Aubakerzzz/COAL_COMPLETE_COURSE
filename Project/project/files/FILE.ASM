.MODEL SMALL 
.STACK 100H

.DATA

	FNAME DB 'hello.TXT', 0
	FHANDLE DW ?
	MSG DB 'ENTER DATA $'
	BUFFER DB 100 DUP ('$')
	
	

.CODE
	MAIN PROC
		MOV AX, @DATA
		MOV DS, AX
		MOV AX, 0
		
		;CREATING FILE
		;MOV AH, 3CH
		;LEA DX, FNAME
		;MOV CL, 0
		;INT 21H
		;MOV FHANDLE, AX
		
		;OPEN AN EXISTING FILE & WRINTING INTO THE FILE 
		MOV AH, 3DH
		LEA DX, FNAME
		MOV AL, 2
		INT 21H
		MOV FHANDLE, AX
		
		LEA DX, MSG
		MOV AH, 09H
		INT 21H
		MOV SI, 0
		MOV CX, 0
		
	AGAIN::
		MOV AH, 01H
		INT 21H
		CMP AL, 13
		JE EXIT
		MOV BUFFER[SI], AL
		INC SI
		INC CX
		JMP AGAIN
	
	EXIT::
		MOV AH, 40H
		MOV BX, FHANDLE
		LEA DX, BUFFER
		INT 21H
		
		;READ DATA FROM FILE
		;MOV AH, 3FH
		;LEA DX, BUFFER
		;MOV CX, 100
		;MOV BX, FHANDLE
		;INT 21H
		;LEA DX, BUFFER
		;MOV AH, 09H
		;INT 21H

		;CLOSE FILE
		MOV AH, 3EH
		MOV BX, FHANDLE
		INT 21H
		

	MAIN ENDP

	MOV AH, 04CH
	INT 21H
	END 
	